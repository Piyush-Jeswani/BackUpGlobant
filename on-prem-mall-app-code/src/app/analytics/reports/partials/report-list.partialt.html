<div
  class="table-responsive col-xs-12 no-padding-left no-padding-right"
  ng-if="!vm.isLoading && vm.allRequestsSucceeded && vm.reports && vm.reports.length > 0">
    <table class="table table-striped  table-bordered">
      <thead>
        <tr>
          <th data-field="name" ng-click="vm.sortReports('name')" ng-class="{ sortable: true, sorted: vm.sortBy === 'name' }">
            <span class="header-name" translate>.REPORTNAME</span>
            <span ng-if="vm.sortBy === 'name'" class="sticon sticon-arrow-right" ng-class="{ reverse: vm.isReversed.name }"></span>
          </th>
          <th data-field="period_type" ng-click="vm.sortReports('period_type')" ng-class="{ sortable: true, sorted: vm.sortBy === 'period_type' }">
            <span class="header-name" translate>.TIMEPERIOD</span>
            <span ng-if="vm.sortBy === 'period_type'" class="sticon sticon-arrow-right" ng-class="{ reverse: vm.isReversed.period_type }"></span>
          </th>
          <th>
            <span class="header-name"></span>
          </th>
          <th data-field="schedule">
            <span class="header-name" translate>pdfExportView.SCHEDULE</span>
          </th>
          <th>
            <span class="header-name"></span>
          </th>
          <th data-field="report_type" ng-click="vm.sortReports('report_type')" ng-class="{ sortable: true, sorted: vm.sortBy === 'report_type' }">
            <span class="header-name" translate>
              <span ng-if="vm.sortBy === 'report_type'"
                class="type sticon sticon-arrow-right"
                ng-class="{ reverse: vm.isReversed.report_type }">
              </span>
              .SCHEDULEDREPORTSTYPE
            </span>
          </th>
          <th data-field="schedule-actions" translate>
            .ACTIONS
          </th>
        </tr>
        <tr>
          <th>
            <span class="header-name"></span>
          </th>
          <th>
            <span class="header-name"></span>
          </th>
          <th data-field="frequency_type" ng-click="vm.sortReports('frequency_type')" ng-class="{ sortable: true, sorted: vm.sortBy === 'frequency_type' }">
            <span class="header-name" translate>.FREQUENCY</span>
            <span ng-if="vm.sortBy === 'frequency_type'" class="sticon sticon-arrow-right" ng-class="{ reverse: vm.isReversed.frequency_type }"></span>
          </th>
          <th data-field="frequency_time" ng-click="vm.sortReports('frequency_time')" ng-class="{ sortable: true, sorted: vm.sortBy === 'frequency_time' }">
            <span class="header-name" translate>.TIME</span>
            <span ng-if="vm.sortBy === 'frequency_time'" class="sticon sticon-arrow-right" ng-class="{ reverse: vm.isReversed.frequency_time }"></span>
          </th>
          <th data-field="frequency_timeZone" ng-click="vm.sortReports('frequency_timeZone')" ng-class="{ sortable: true, sorted: vm.sortBy === 'frequency_timeZone' }">
            <span class="header-name" translate>.TIMEZONE</span>
            <span ng-if="vm.sortBy === 'frequency_timeZone'" class="sticon sticon-arrow-right" ng-class="{ reverse: vm.isReversed.frequency_timeZone }"></span>
          </th>
          <th>
            <span class="header-name"></span>
          </th>
          <th>
            <span class="header-name"></span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="report in vm.reports track by report._id">
          <td>{{ report.name }}</td>
          <td class="org-users-username">
            {{ vm.getDatePeriodTransKey(report.period_type) | translate}}
          </td>
          <td class="org-users-username">
            <span>{{vm.getFrequencyTransKey(report) | translate}}</span>
            <span ng-if="report.is_scheduled && report.frequency.secondary && report.frequency.secondary !== ''">-</span>
            <span>{{vm.getFrequencySecondaryTransKey(report) | translate}}</span>
          </td>
          <td class="org-users-username">
            {{vm.getFrequencyTime(report)}}
          </td>
          <td class="org-users-username">
            {{vm.getFrequencyTimeZone(report)}}
          </td>
          <td class="type">
            {{ report.report_type }}
          </td>
          <td class="report-actions">
            <span class="icon icon-edit" data-title="{{ 'scheduleReport.ACTIVATINGREPORT' | translate }}" bs-tooltip ng-if="report.is_scheduled && report.is_schedule_paused">
              <span
                class="sticon sticon-play-small "
                ng-disabled="!report.isEditEnabled"
                ng-class="{ 'disabled': !report.isEditEnabled}"
                ng-click="vm.toggleReportScheduleEnabled(report)">
              </span>
            </span>

            <span class="icon icon-edit" data-title="{{ 'scheduleReport.PAUSEREPORT' | translate }}" bs-tooltip ng-if="!report.is_scheduled || !report.is_schedule_paused">
              <span class="sticon sticon-pause" ng-click="vm.toggleReportScheduleEnabled(report)"
                ng-disabled="!report.is_scheduled || !report.isEditEnabled"
                ng-class="{ 'disabled': !report.is_scheduled || !report.isEditEnabled}">
              </span>
            </span>

            <span  class="icon icon-edit" ng-if="!report.isEditEnabled"  data-title="{{ 'scheduleReport.VIEWREPORT' | translate }}" bs-tooltip>
                <span class="sticon sticon-show" ng-click="vm.viewReport(report)"></span>
              </span>
            <span  class="icon icon-edit" ng-if="report.isEditEnabled" data-title="{{ 'scheduleReport.EDITREPORT' | translate }}" bs-tooltip>
              <span class="sticon sticon-edit-small" ng-click="vm.editReport(report, $event)"></span>
            </span>
            <span class="icon icon-remove" data-title="{{ 'scheduleReport.DELETEREPORT' | translate }}"  bs-tooltip>
              <span class="sticon sticon-delete-small"
                ng-disabled="!report.isEditEnabled"
                ng-class="{ 'disabled': !report.isEditEnabled}"
                ng-click="vm.deleteReport(report)">
              </span>
            </span>
            <span class="icon icon-edit" data-title="{{ 'scheduleReport.DOWNLOADREPORT' | translate }}" bs-tooltip>
              <span class="sticon sticon-download-small" ng-click="vm.downloadReport(report)"></span>
            </span>
            <span class="icon" data-title="{{(report.is_scheduled && !report.is_schedule_paused && report.email.has_email)? 'scheduleReport.EXECUTETOEMAIL' : 'scheduleReport.NOEXECUTEANDEMAIL' | translate }}"
              bs-tooltip>
              <span class="sticon sticon-mail" ng-click="vm.runReportToEmail(report)"
                ng-class="{ 'disabled': !report.is_scheduled || !report.email.has_email || report.is_schedule_paused }"
                ng-disabled="!report.is_scheduled || !report.email.has_email || report.is_schedule_paused">
              </span>
            </span>
            <span class="icon" data-title="{{ 'scheduleReport.VIEWSCHEDULE' | translate }}" bs-tooltip ng-show="false">
              <span class="sticon sticon-view" ng-click="vm.viewReport(report, $event)"></span>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

