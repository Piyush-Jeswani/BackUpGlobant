<footer>
  <div class="modal-footer" >
    <div class="btn-group" ng-class= "{'extra-margin-top': !vm.previewWidgetsScreen }">
      <button type="button" class="btn btn-default" ng-show="((vm.mode === 'new' && vm.reportsCSVEnabled) || vm.phase > 1) && !vm.previewWidgetsScreen"
        ng-click="vm.goBack()" ng-disabled="vm.phase < 1 || (vm.report.isEditEnabled && (vm.disableContinueButton || (vm.phase === 2 && vm.report.email.has_email && !form.emailForm.$valid)))">
        <span class="sticon sticon-arrow-left" aria-hidden="true"></span>
        <span class="ng-scope" translate>common.BACK</span>
      </button>

      <button type="button" class="btn btn-default" ng-show="(vm.phase < 3 && vm.report.is_scheduled) && !vm.previewWidgetsScreen"
        ng-click="vm.nextPhase()" ng-disabled="vm.report.isEditEnabled && (vm.disableContinueButton || (vm.phase === 2 && vm.report.email.has_email && !form.emailForm.$valid))">
        <span class="ng-scope" translate>.CONTINUE</span>
        <span class="sticon sticon-arrow-right" aria-hidden="true"></span>
      </button>

      <button class="btn btn-primary" ng-show="(vm.phase === 3 || !vm.report.is_scheduled) && !vm.previewWidgetsScreen" type="button"
        ng-click="vm.saveReport('#reportConfigModal')" ng-disabled="vm.isDisabledSaveButton || !vm.report.isEditEnabled">
        <span class="sticon sticon-save" aria-hidden="true"></span>
        <span class="ng-scope" translate>.SAVEREPORT</span>
      </button>
      <button class="btn btn-primary" ng-click="vm.downloadReport()" ng-show="(vm.phase === 3  || vm.phase1Validated) && !vm.previewWidgetsScreen"
        type="button" ng-disabled="!vm.phase1Validated">
        <span class="sticon sticon-download-small" aria-hidden="true"></span>
        <span class="ng-scope" translate>.DOWNLOADREPORT</span>
      </button>
      <button type="button" class="btn btn-default" ng-click="vm.prepPreview()" ng-show="vm.phase1Validated && !vm.previewWidgetsScreen"
        translate>common.PREVIEW</button>
      <button type="button" class="btn btn-default" ng-click="vm.endPreview()" ng-show="vm.previewWidgetsScreen" translate>common.CLOSE</button>

      <button type="button" class="btn btn-default" ng-click="vm.cancel()" ng-show="!vm.previewWidgetsScreen"
        translate>.CANCEL</button>
      <span class="loading-spinner" ng-show="vm.numExportsInProgress > 0"></span>
    </div>
  </div>
</footer>
