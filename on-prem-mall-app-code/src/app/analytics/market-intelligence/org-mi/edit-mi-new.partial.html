<div class="mi-view" translate-namespace="marketIntelligence">
  <div class="row mi-block-wrapper" ng-repeat="segment in ::vm.segments track by $index">
    <div class="row">
      <div class="col-sm-11 col-sm-offset-1">
        <div class="block-title-text">{{::$index+1}}/5</div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="mi-block-left">
        <div class="row">
          <div class="col-sm-6 col-sm-offset-1">
            <div class="filter-section">
              <div class="select-mi-dropdown-wrapper col-sm-12 no-padding">
                <mi-list-selector
                  no-of-filters = "2"
                  segment="segment"
                  subscription-response="vm.subscriptionResponse"
                  rules="vm.rules"
                  class="mi-list"
                  dropdown-position="::vm.segmentConfig.position"
                  show-summary="::vm.segmentConfig.showSummary"
                  header-title="::vm.segmentConfig.title"
                  should-clear="::vm.segmentConfig.shouldClear">
                </mi-list-selector>
              </div>
            </div>
          </div>
          <div class="col-sm-4 time-dimension mi-list">
            <mi-selector
              control-id="time-dimension-picker"
              items="vm.timeDimensions"
              current-item="segment.timePeriod"
              display-property="time"
              show-parent-link="false"
              parent-drop-down-class="form-control custom-select"
              placeholder-label="vm.timeSelectionPlaceholders.time"
              current-filter-id="$index">
            </mi-selector>

          </div>
        </div>
      </div>
    </div>
  </div>



  <div class="row" ng-if="vm.errorHeading">
    <div class="col-sm-12">
      <div class="alert-danger subscription-error" translate>.NOSUBSCRIPTIONERROR</div>
    </div>
  </div>

  <div class="row action-buttons">
    <div class="col-md-8">
      <div class="row">
        <div class="col-sm-11 col-sm-offset-1">
          <button
            class="btn btn-primary"
            ng-click="vm.save()"
            ng-disabled="vm.isLoading || vm.saveButtonDisabled">
            <span class="sticon sticon-save"></span>
            <span translate>common.SAVE</span>
          </button>

          <div class="loader" ng-if="vm.isLoading">
            <span>.LOADING</span>
          </div>

          <a
            class="btn btn-default"
            ng-click="vm.showNoMiFooterCancel()"
            translate>common.CANCEL
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
