<div class="mi-geo-level" translate-namespace="marketIntelligence">
  <div class="dropdown" ng-repeat="item in vm.subscriptionArray track by item.country.uuid">

    <input class="main-title country-level" type="checkbox" value="true" ng-model="item.isSelected" ng-change="vm.isCountrySelected(item.country.uuid)"/>
    <div class="dropdown-toggle main-title">
      <a ng-click="vm.toggleOpen(item)" ng-class="{'selected': item.isSelected}">
        {{item.country.name}}
        <span class="caret" ng-class="{'downcaret': item.isOpen}"></span>
      </a>
    </div>

    <ul class="dropdown-menu" ng-show="item.isOpen">
      <li class="dropdown-submenu">
        <div ng-repeat="region in item.country.regions track by region.uuid">
          <input type="checkbox" class="region-level" ng-model="region.isSelected" ng-change="vm.isRegionSelected(region.uuid)"/>
          <a tabindex="-1" ng-click="vm.toggleOpen(region)" ng-class="{'selected': region.isSelected}">
            {{region.name}}
            <span class="caret" ng-class="{'downcaret': region.isOpen}"></span>
          </a>
          <ul ng-if="region.metros" ng-show="region.isOpen" class="dropdown-menu dropdown-nested-submenu">
            <li ng-repeat="metro in region.metros track by metro.uuid">
              <input type="checkbox" class="metro-level" ng-model="metro.isSelected" ng-change="vm.isMetroSelected(metro.uuid)"/>
              <a tabindex="-1" ng-class="{'selected': metro.isSelected}">
                {{metro.name}}
              </a>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</div>